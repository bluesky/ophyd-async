
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Using Devices &#8212; ophyd-async 0.10.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=3fefa004" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=261ea15a"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=30646c52"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorials/using-devices';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://blueskyproject.io/ophyd-async/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '0.10.1';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <link rel="icon" href="../_static/ophyd-favicon.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Implementing Devices" href="implementing-devices.html" />
    <link rel="prev" title="Installation" href="installation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.10.1" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/ophyd-async-logo.svg" class="logo__image only-light" alt="ophyd-async 0.10.1 documentation - Home"/>
    <img src="../_static/ophyd-async-logo.svg" class="logo__image only-dark pst-js-only" alt="ophyd-async 0.10.1 documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../tutorials.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../how-to.html">
    How-to Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../explanations.html">
    Explanations
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../reference.html">
    Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://blueskyproject.io">
    Bluesky Project
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/bluesky/ophyd-async" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/ophyd-async" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-cube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../tutorials.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../how-to.html">
    How-to Guides
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../explanations.html">
    Explanations
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../reference.html">
    Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://blueskyproject.io">
    Bluesky Project
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/bluesky/ophyd-async" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/ophyd-async" title="PyPI" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-cube fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPI</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Using Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementing-devices.html">Implementing Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing-tests-for-devices.html">Writing Tests for Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementing-detectors.html">Implementing File Writing Detectors</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../tutorials.html" class="nav-link">Tutorials</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Using Devices</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="using-devices">
<h1>Using Devices<a class="headerlink" href="#using-devices" title="Link to this heading">#</a></h1>
<p>In this tutorial we will create a bluesky RunEngine, instantiate some existing ophyd-async Devices, and use them in some bluesky plans. It assumes you have already run through the Bluesky tutorial on <a class="reference external" href="https://blueskyproject.io/bluesky/main/tutorial.html#tutorial-run-engine-setup" title="bluesky 1.14.2.dev58+gef5a5e5f">The RunEngine</a>.</p>
<section id="run-the-demo">
<h2>Run the demo<a class="headerlink" href="#run-the-demo" title="Link to this heading">#</a></h2>
<p>Ophyd-async ships with some simulated devices and a demo script that will create them along with a RunEngine. Let’s take a look at it now:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;Used for tutorial `Using Devices`.&quot;&quot;&quot;</span>

<span class="c1"># Import bluesky and ophyd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tempfile</span><span class="w"> </span><span class="kn">import</span> <span class="n">mkdtemp</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">bluesky.plan_stubs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">bps</span>  <span class="c1"># noqa: F401</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">bluesky.plans</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">bp</span>  <span class="c1"># noqa: F401</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">bluesky.preprocessors</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">bpp</span>  <span class="c1"># noqa: F401</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bluesky.callbacks.best_effort</span><span class="w"> </span><span class="kn">import</span> <span class="n">BestEffortCallback</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bluesky.run_engine</span><span class="w"> </span><span class="kn">import</span> <span class="n">RunEngine</span><span class="p">,</span> <span class="n">autoawait_in_bluesky_event_loop</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">ophyd_async</span><span class="w"> </span><span class="kn">import</span> <span class="n">sim</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ophyd_async.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">StaticPathProvider</span><span class="p">,</span> <span class="n">UUIDFilenameProvider</span><span class="p">,</span> <span class="n">init_devices</span>

<span class="c1"># Create a run engine and make ipython use it for `await` commands</span>
<span class="n">RE</span> <span class="o">=</span> <span class="n">RunEngine</span><span class="p">(</span><span class="n">call_returns_result</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">autoawait_in_bluesky_event_loop</span><span class="p">()</span>

<span class="c1"># Add a callback for plotting</span>
<span class="n">bec</span> <span class="o">=</span> <span class="n">BestEffortCallback</span><span class="p">()</span>
<span class="n">RE</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">bec</span><span class="p">)</span>

<span class="c1"># Make a pattern generator that uses the motor positions</span>
<span class="c1"># to make a test pattern. This simulates the real life process</span>
<span class="c1"># of X-ray scattering off a sample</span>
<span class="n">pattern_generator</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">PatternGenerator</span><span class="p">()</span>

<span class="c1"># Make a path provider that makes UUID filenames within a static</span>
<span class="c1"># temporary directory</span>
<span class="n">path_provider</span> <span class="o">=</span> <span class="n">StaticPathProvider</span><span class="p">(</span><span class="n">UUIDFilenameProvider</span><span class="p">(),</span> <span class="n">mkdtemp</span><span class="p">())</span>

<span class="c1"># All Devices created within this block will be</span>
<span class="c1"># connected and named at the end of the with block</span>
<span class="k">with</span> <span class="n">init_devices</span><span class="p">():</span>
    <span class="c1"># Create a sample stage with X and Y motors that report their positions</span>
    <span class="c1"># to the pattern generator</span>
    <span class="n">stage</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">SimStage</span><span class="p">(</span><span class="n">pattern_generator</span><span class="p">)</span>
    <span class="c1"># Make a detector device that gives the point value of the pattern generator</span>
    <span class="c1"># when triggered</span>
    <span class="n">pdet</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">SimPointDetector</span><span class="p">(</span><span class="n">pattern_generator</span><span class="p">)</span>
    <span class="c1"># Make a detector device that gives a gaussian blob with intensity based</span>
    <span class="c1"># on the point value of the pattern generator when triggered</span>
    <span class="n">bdet</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">SimBlobDetector</span><span class="p">(</span><span class="n">path_provider</span><span class="p">,</span> <span class="n">pattern_generator</span><span class="p">)</span>
</pre></div>
</div>
<p>We will explain the contents in more detail later on, but for now let’s run it in an interactive <a class="reference external" href="https://ipython.org">ipython</a> shell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ipython --matplotlib=qt6 -i -m ophyd_async.sim
Python 3.11.11 (main, Dec  4 2024, 20:38:25) [GCC 12.2.0]
Type &#39;copyright&#39;, &#39;credits&#39; or &#39;license&#39; for more information
IPython 8.30.0 -- An enhanced Interactive Python. Type &#39;?&#39; for help.

In [1]: 
</pre></div>
</div>
<p>This has launched an ipython shell, enabled live plotting, told it to import and run the demo script packaged inside <code class="docutils literal notranslate"><span class="pre">ophyd_async.sim</span></code>, then return to an interactive prompt.</p>
</section>
<section id="investigate-the-devices">
<h2>Investigate the Devices<a class="headerlink" href="#investigate-the-devices" title="Link to this heading">#</a></h2>
<p>We will look at the <code class="docutils literal notranslate"><span class="pre">stage.x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> motors first. If we examine them we can see that they have a name:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">stage</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">name</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="s1">&#39;stage-x&#39;</span>
</pre></div>
</div>
<p>But if we try to call any of the other methods like <code class="docutils literal notranslate"><span class="pre">read()</span></code> we will see that it doesn’t return the value, but a <a class="reference external" href="https://docs.python.org/3/library/asyncio-task.html#coroutine" title="Python 3.13">coroutine</a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">stage</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">coroutine</span> <span class="nb">object</span> <span class="n">StandardReadable</span><span class="o">.</span><span class="n">read</span> <span class="n">at</span> <span class="mh">0x7f9c5c105220</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This is because ophyd-async devices implement async versions of the bluesky <a class="reference external" href="https://blueskyproject.io/bluesky/main/hardware.html" title="bluesky 1.14.2.dev58+gef5a5e5f">verbs</a>. To get the value we can <code class="docutils literal notranslate"><span class="pre">await</span></code> it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="k">await</span> <span class="n">stage</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> 
<span class="p">{</span><span class="s1">&#39;x-user_readback&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;timestamp&#39;</span><span class="p">:</span> <span class="mf">367727.615860209</span><span class="p">,</span>
 <span class="s1">&#39;alarm_severity&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}}</span>
</pre></div>
</div>
</section>
<section id="run-some-plans">
<h2>Run some plans<a class="headerlink" href="#run-some-plans" title="Link to this heading">#</a></h2>
<p>Although it is useful to run the verbs using the <code class="docutils literal notranslate"><span class="pre">await</span></code> syntax for debugging, most of the time we will run them via plans executed by the <a class="reference external" href="https://blueskyproject.io/bluesky/main/generated/bluesky.run_engine.RunEngine.html#bluesky.run_engine.RunEngine" title="bluesky 1.14.2.dev58+gef5a5e5f"><code class="iref myst docutils literal notranslate"><span class="pre">bluesky.run_engine.RunEngine</span></code></a>. For instance we can read it using the <a class="reference external" href="https://blueskyproject.io/bluesky/main/generated/bluesky.plan_stubs.rd.html#bluesky.plan_stubs.rd" title="bluesky 1.14.2.dev58+gef5a5e5f"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">bps.rd</span></code></span></a> plan stub:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">RE</span><span class="p">(</span><span class="n">bps</span><span class="o">.</span><span class="n">rd</span><span class="p">(</span><span class="n">stage</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">RunEngineResult</span><span class="p">(</span><span class="n">run_start_uids</span><span class="o">=</span><span class="p">(),</span> <span class="n">plan_result</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">exit_status</span><span class="o">=</span><span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="n">interrupted</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">exception</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>and move it using the <a class="reference external" href="https://blueskyproject.io/bluesky/main/generated/bluesky.plan_stubs.mv.html#bluesky.plan_stubs.mv" title="bluesky 1.14.2.dev58+gef5a5e5f"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">bps.mv</span></code></span></a> plan sub:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">RE</span><span class="p">(</span><span class="n">bps</span><span class="o">.</span><span class="n">mv</span><span class="p">(</span><span class="n">stage</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">))</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">RunEngineResult</span><span class="p">(</span><span class="n">run_start_uids</span><span class="o">=</span><span class="p">(),</span> <span class="n">plan_result</span><span class="o">=</span><span class="p">(</span><span class="o">&lt;</span><span class="n">WatchableAsyncStatus</span><span class="p">,</span> <span class="n">device</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">coroutine</span> <span class="nb">object</span> <span class="n">WatchableAsyncStatus</span><span class="o">.</span><span class="n">_notify_watchers_from</span> <span class="n">at</span> <span class="mh">0x7f9c71791940</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">done</span><span class="o">&gt;</span><span class="p">,),</span> <span class="n">exit_status</span><span class="o">=</span><span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="n">interrupted</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">exception</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">RE</span><span class="p">(</span><span class="n">bps</span><span class="o">.</span><span class="n">rd</span><span class="p">(</span><span class="n">stage</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">RunEngineResult</span><span class="p">(</span><span class="n">run_start_uids</span><span class="o">=</span><span class="p">(),</span> <span class="n">plan_result</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">exit_status</span><span class="o">=</span><span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="n">interrupted</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">exception</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="run-a-grid-scan">
<span id="demo-grid-scan"></span><h2>Run a grid scan<a class="headerlink" href="#run-a-grid-scan" title="Link to this heading">#</a></h2>
<p>There is also a point detector that changes its 3 channels of output based on the positions of the <code class="docutils literal notranslate"><span class="pre">stage.x</span></code> and <code class="docutils literal notranslate"><span class="pre">stage.y</span></code> motors, so we can use it in a <a class="reference external" href="https://blueskyproject.io/bluesky/main/generated/bluesky.plans.grid_scan.html#bluesky.plans.grid_scan" title="bluesky 1.14.2.dev58+gef5a5e5f"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">bp.grid_scan</span></code></span></a>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">RE</span><span class="p">(</span><span class="n">bp</span><span class="o">.</span><span class="n">grid_scan</span><span class="p">([</span><span class="n">pdet</span><span class="p">],</span> <span class="n">stage</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">stage</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>


<span class="go">Transient Scan ID: 8     Time: 2025-06-11 16:06:19</span>
<span class="go">Persistent Unique Scan ID: &#39;17350e70-aa36-4597-a21e-9ad352cd11b0&#39;</span>
<span class="go">New stream: &#39;primary&#39;</span>
<span class="go">+-----------+------------+------------+------------+----------------------+----------------------+----------------------+</span>
<span class="go">|   seq_num |       time |    stage-x |    stage-y | pdet-channel-1-value | pdet-channel-2-value | pdet-channel-3-value |</span>
<span class="go">+-----------+------------+------------+------------+----------------------+----------------------+----------------------+</span>
<span class="go">|         1 | 16:06:19.5 |      1.000 |      2.000 |                  921 |                  887 |                  859 |</span>
<span class="go">|         2 | 16:06:20.6 |      1.000 |      2.500 |                  959 |                  926 |                  898 |</span>
<span class="go">|         3 | 16:06:21.5 |      1.000 |      3.000 |                  937 |                  903 |                  875 |</span>
<span class="go">|         4 | 16:06:22.4 |      1.500 |      2.000 |                  976 |                  975 |                  974 |</span>
<span class="go">|         5 | 16:06:23.4 |      1.500 |      2.500 |                  843 |                  843 |                  842 |</span>
<span class="go">|         6 | 16:06:24.3 |      1.500 |      3.000 |                  660 |                  660 |                  659 |</span>
<span class="go">|         7 | 16:06:25.2 |      2.000 |      2.000 |                  761 |                  740 |                  722 |</span>
<span class="go">|         8 | 16:06:26.1 |      2.000 |      2.500 |                  537 |                  516 |                  498 |</span>
<span class="go">|         9 | 16:06:27.0 |      2.000 |      3.000 |                  487 |                  467 |                  448 |</span>
<span class="go">+-----------+------------+------------+------------+----------------------+----------------------+----------------------+</span>
<span class="go">generator grid_scan [&#39;17350e70&#39;] (scan num: 8)</span>



<span class="gh">Out[1]: </span><span class="go">RunEngineResult(run_start_uids=(&#39;17350e70-aa36-4597-a21e-9ad352cd11b0&#39;,), plan_result=&#39;17350e70-aa36-4597-a21e-9ad352cd11b0&#39;, exit_status=&#39;success&#39;, interrupted=False, reason=&#39;&#39;, exception=None)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/sim_grid_scan.png"><img alt="../_images/sim_grid_scan.png" src="../_images/sim_grid_scan.png" style="width: 4in;" />
</a>
<p>This detector produces a single point of information for each channel at each motor value. This means that the <a class="reference external" href="https://blueskyproject.io/bluesky/main/callbacks.html#best-effort-callback" title="bluesky 1.14.2.dev58+gef5a5e5f">Best-Effort Callback</a> is able to print a tabular form of the scan.</p>
<p>There is also a blob detector that produces a gaussian blob with intensity based on the positions of the <code class="docutils literal notranslate"><span class="pre">stage.x</span></code> and <code class="docutils literal notranslate"><span class="pre">stage.y</span></code> motors, writing the data to an HDF file. You can also use this in a grid scan, but there will be no data displayed as the <code class="docutils literal notranslate"><span class="pre">BestEffortCallback</span></code> doesn’t know how to read data from file:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">RE</span><span class="p">(</span><span class="n">bp</span><span class="o">.</span><span class="n">grid_scan</span><span class="p">([</span><span class="n">bdet</span><span class="p">],</span> <span class="n">stage</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">stage</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>


<span class="go">Transient Scan ID: 9     Time: 2025-06-11 16:06:28</span>
<span class="go">Persistent Unique Scan ID: &#39;d285bae8-3a58-4ca2-a541-544efef102b4&#39;</span>
<span class="go">New stream: &#39;primary&#39;</span>
<span class="go">+-----------+------------+------------+------------+</span>
<span class="go">|   seq_num |       time |    stage-x |    stage-y |</span>
<span class="go">+-----------+------------+------------+------------+</span>
<span class="go">|         1 | 16:06:28.5 |      1.000 |      2.000 |</span>
<span class="go">|         2 | 16:06:28.6 |      1.000 |      2.500 |</span>
<span class="go">|         3 | 16:06:28.8 |      1.000 |      3.000 |</span>
<span class="go">|         4 | 16:06:28.9 |      1.500 |      2.000 |</span>
<span class="go">|         5 | 16:06:29.1 |      1.500 |      2.500 |</span>
<span class="go">|         6 | 16:06:29.2 |      1.500 |      3.000 |</span>
<span class="go">|         7 | 16:06:29.4 |      2.000 |      2.000 |</span>
<span class="go">|         8 | 16:06:29.5 |      2.000 |      2.500 |</span>
<span class="go">|         9 | 16:06:29.6 |      2.000 |      3.000 |</span>
<span class="go">+-----------+------------+------------+------------+</span>
<span class="go">generator grid_scan [&#39;d285bae8&#39;] (scan num: 9)</span>



<span class="gh">Out[2]: </span><span class="go">RunEngineResult(run_start_uids=(&#39;d285bae8-3a58-4ca2-a541-544efef102b4&#39;,), plan_result=&#39;d285bae8-3a58-4ca2-a541-544efef102b4&#39;, exit_status=&#39;success&#39;, interrupted=False, reason=&#39;&#39;, exception=None)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>A more interactive scanning tutorial including live plotting of the data from file is in the process of being written in <a class="reference external" href="https://github.com/bluesky/bluesky-cookbook/pull/22">the bluesky cookbook</a>.</p>
</div>
</section>
<section id="examine-the-script">
<h2>Examine the script<a class="headerlink" href="#examine-the-script" title="Link to this heading">#</a></h2>
<p>We will now walk through the script section by section and examine what each part does. First of all we import the bluesky and ophyd libraries:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">tempfile</span><span class="w"> </span><span class="kn">import</span> <span class="n">mkdtemp</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">bluesky.plan_stubs</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">bps</span>  <span class="c1"># noqa: F401</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">bluesky.plans</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">bp</span>  <span class="c1"># noqa: F401</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">bluesky.preprocessors</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">bpp</span>  <span class="c1"># noqa: F401</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bluesky.callbacks.best_effort</span><span class="w"> </span><span class="kn">import</span> <span class="n">BestEffortCallback</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bluesky.run_engine</span><span class="w"> </span><span class="kn">import</span> <span class="n">RunEngine</span><span class="p">,</span> <span class="n">autoawait_in_bluesky_event_loop</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">ophyd_async</span><span class="w"> </span><span class="kn">import</span> <span class="n">sim</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ophyd_async.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">StaticPathProvider</span><span class="p">,</span> <span class="n">UUIDFilenameProvider</span><span class="p">,</span> <span class="n">init_devices</span>

</pre></div>
</div>
<p>After this we create a RunEngine:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">RE</span> <span class="o">=</span> <span class="n">RunEngine</span><span class="p">(</span><span class="n">call_returns_result</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">autoawait_in_bluesky_event_loop</span><span class="p">()</span>

</pre></div>
</div>
<p>We pass <code class="docutils literal notranslate"><span class="pre">call_returns_result=True</span></code> to the RunEngine so that we can see the result of <code class="docutils literal notranslate"><span class="pre">bps.rd</span></code> above. We call <code class="docutils literal notranslate"><span class="pre">autoawait_in_bluesky_event_loop()</span></code> so that when we <code class="docutils literal notranslate"><span class="pre">await</span> <span class="pre">bps.rd(x)</span></code> it will happen in the same event loop that the RunEngine uses rather than an IPython specific one. This avoids some surprising behavior that occurs when devices are accessed from multiple event loops.</p>
<p>We then setup plotting of the resulting scans:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bec</span> <span class="o">=</span> <span class="n">BestEffortCallback</span><span class="p">()</span>
<span class="n">RE</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">bec</span><span class="p">)</span>

</pre></div>
</div>
<p>This subscribes to the emitted bluesky <a class="reference external" href="https://blueskyproject.io/bluesky/main/documents.html" title="bluesky 1.14.2.dev58+gef5a5e5f">Documents</a>, and interprets them for plotting. In this case it made a table of points for the motors and each channel of the point detector, and plots of the point detector channels in a gridded pattern.</p>
<p>Just for the simulation we need something to produce the test data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pattern_generator</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">PatternGenerator</span><span class="p">()</span>

</pre></div>
</div>
<p>This is passed to all the Devices so they can tell it the X and Y positions of the motors and get simulated point and gaussian blob data from it. In production you would pass around references to the control system (EPICS PV prefixes or Tango Resource Locations) instead of creating an object here. This is explored in more detail in <a class="reference internal" href="implementing-devices.html"><span class="std std-doc">Implementing Devices</span></a>.</p>
<p>Next up is the path provider:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">path_provider</span> <span class="o">=</span> <span class="n">StaticPathProvider</span><span class="p">(</span><span class="n">UUIDFilenameProvider</span><span class="p">(),</span> <span class="n">mkdtemp</span><span class="p">())</span>

</pre></div>
</div>
<p>This is how we specify in which location file-writing detectors store their data. In this example we choose to write to a static temporary directory using the <a class="reference internal" href="../_api/ophyd_async/ophyd_async.core.html#ophyd_async.core.StaticPathProvider" title="ophyd_async.core.StaticPathProvider"><code class="xref myst py py-class docutils literal notranslate"><span class="pre">StaticPathProvider</span></code></a>, and to name each file within it with a UUID using the <a class="reference internal" href="../_api/ophyd_async/ophyd_async.core.html#ophyd_async.core.UUIDFilenameProvider" title="ophyd_async.core.UUIDFilenameProvider"><code class="xref myst py py-class docutils literal notranslate"><span class="pre">UUIDFilenameProvider</span></code></a>. <a class="reference internal" href="../_api/ophyd_async/ophyd_async.core.html#ophyd_async.core.PathProvider" title="ophyd_async.core.PathProvider"><span class="xref myst py py-class">Other PathProviders</span></a> allow this to be customized. In production we would chose a location on a filesystem that would be accessible by downstream consumers of the scan documents.</p>
<p>Finally we create and connect the Devices:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">init_devices</span><span class="p">():</span>
    <span class="c1"># Create a sample stage with X and Y motors that report their positions</span>
    <span class="c1"># to the pattern generator</span>
    <span class="n">stage</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">SimStage</span><span class="p">(</span><span class="n">pattern_generator</span><span class="p">)</span>
    <span class="c1"># Make a detector device that gives the point value of the pattern generator</span>
    <span class="c1"># when triggered</span>
    <span class="n">pdet</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">SimPointDetector</span><span class="p">(</span><span class="n">pattern_generator</span><span class="p">)</span>
    <span class="c1"># Make a detector device that gives a gaussian blob with intensity based</span>
    <span class="c1"># on the point value of the pattern generator when triggered</span>
    <span class="n">bdet</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">SimBlobDetector</span><span class="p">(</span><span class="n">path_provider</span><span class="p">,</span> <span class="n">pattern_generator</span><span class="p">)</span>
</pre></div>
</div>
<p>The first thing to note is the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement. This uses a <a class="reference internal" href="../_api/ophyd_async/ophyd_async.core.html#ophyd_async.core.init_devices" title="ophyd_async.core.init_devices"><code class="xref myst py py-func docutils literal notranslate"><span class="pre">init_devices</span></code></a> as a context manager to collect up the top level <code class="docutils literal notranslate"><span class="pre">Device</span></code> instances created in the context, and run the following:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">set_name=True</span></code> (the default), then call <a class="reference internal" href="../_api/ophyd_async/ophyd_async.core.html#ophyd_async.core.Device.set_name" title="ophyd_async.core.Device.set_name"><code class="xref myst py py-meth docutils literal notranslate"><span class="pre">Device.set_name</span></code></a> passing the name of the variable within the context. For example, here we call
<code class="docutils literal notranslate"><span class="pre">pdet.set_name(&quot;pdet&quot;)</span></code></p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">connect=True</span></code> (the default), then call <a class="reference internal" href="../_api/ophyd_async/ophyd_async.core.html#ophyd_async.core.Device.connect" title="ophyd_async.core.Device.connect"><code class="xref myst py py-meth docutils literal notranslate"><span class="pre">Device.connect</span></code></a> in parallel for all top level Devices, waiting for up to <code class="docutils literal notranslate"><span class="pre">timeout</span></code> seconds. For example, here we will connect <code class="docutils literal notranslate"><span class="pre">stage</span></code>, <code class="docutils literal notranslate"><span class="pre">pdet</span></code> and <code class="docutils literal notranslate"><span class="pre">bdet</span></code> at the same time. This parallel connect speeds up connection to the underlying control system.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">mock=True</span></code> is passed, then don’t connect to the control system, but set Devices into mock mode for testing.</p></li>
</ul>
<p>Within it the device creation happens, in this case the <code class="docutils literal notranslate"><span class="pre">stage</span></code> with <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> motors, and the two detectors.</p>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<p>In this tutorial we have instantiated some existing ophyd-async devices, seen how they can be connected and named, and used them in some basic plans. Read on to see how to implement support for devices via a control system like EPICS or Tango.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="installation.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Installation</p>
      </div>
    </a>
    <a class="right-next"
       href="implementing-devices.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Implementing Devices</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-demo">Run the demo</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#investigate-the-devices">Investigate the Devices</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-some-plans">Run some plans</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#run-a-grid-scan">Run a grid scan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#examine-the-script">Examine the script</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/bluesky/ophyd-async/edit/0.10.1/docs/tutorials/using-devices.md">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/tutorials/using-devices.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>